!function(e){var o={};function n(s){if(o[s])return o[s].exports;var t=o[s]={i:s,l:!1,exports:{}};return e[s].call(t.exports,t,t.exports,n),t.l=!0,t.exports}n.m=e,n.c=o,n.d=function(e,o,s){n.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:s})},n.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(o,"a",o),o},n.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},n.p="/",n(n.s=0)}({0:function(e,o,n){n("oOP6"),e.exports=n("pSzl")},"Dlg+":function(e,o){try{window.screen_width=0,window.screen_sm=576,window.screen_md=768,window.screen_lg=992,window.screen_xl=1200,window.screen_xxl=1600,window.bootstrap={resize:function(){window.screen_width=window.innerWidth}}}catch(e){}},oOP6:function(e,o,n){var s;n("Dlg+"),(s=jQuery).fn.validCampo=function(e){s(this).on({keypress:function(o){var n=o.which,s=o.keyCode,t=String.fromCharCode(n).toLowerCase();(-1!=e.indexOf(t)||9==s||37!=n&&37==s||39==s&&39!=n||8==s||46==s&&46!=n)&&161!=n||o.preventDefault()}})};var t,i={init:function(){var e={};e[$('meta[name="csrf-token-name"]').attr("content")]=$('meta[name="csrf-token-hash"]').attr("content"),$.ajaxSetup({data:e}),i.toggleNav(),i.pages(),i.preguntas(),i.share(),i.help(),i.dealers(),i.search(),i.formulario(),i.map(),$("form#formulario select").select2({minimumResultsForSearch:1/0})},toggleNav:function(){$("header .toggle-nav").on("click",function(){$("header, #mobileMenu").toggleClass("open")})},pages:function(){window.innerWidth>=992&&$("#pages").fullpage({verticalCentered:!1,css3:!0,scrollOverflow:!0,anchors:["llamadoarevision","informate","preguntas_frecuentes","concesionario"],menu:".navigation",normalScrollElements:".select2-container",responsiveWidth:992})},share:function(){$(".share").jsSocials({shares:["twitter","facebook","whatsapp"],showCount:!1,showLabel:!0,scrollOverflow:!0})},help:function(){$("#help-mark").on("click",function(){$("#help-info").fadeToggle("fast")})},dealers:function(){$("#formulario select#department").off("change").on("change",function(){var e=$(this).val();$("body").hasClass("loading")||($("#formulario select#dealer option:gt(0)").remove(),""!=e&&($("body").addClass("loading"),$.get(base_url+"concesionarios/"+e,function(e){for(pos in console.log(e),e){var o=$("<option/>").val(pos).text(e[pos]);$("#formulario select#dealer").append(o)}$("body").removeClass("loading")},"json")))})},preguntas:function(){$(".slide-preguntas").slick({dots:!1,infinite:!0,speed:300,slidesToShow:1,slidesToScroll:1,responsive:[{breakpoint:768,settings:{dots:!0}}]})},search:function(){$("form#search").on("submit",function(e){e.preventDefault(),$form=$(this),$form.parsley().validate(),$form.parsley().isValid()&&($("body").hasClass("loading")||($("body").addClass("loading"),$.post($form.attr("action"),$form.serializeArray(),function(e){e.success&&(e.vin_no_exist?$("#vin-no-exist").fadeIn(function(){$("#vin-no-exist .close").off("click").on("click",function(){$("#vin-no-exist").fadeOut()})}):($('#formulario input[name="vin_license"]').val($('#search input[name="vin_license"]').val()),$("#sectionLlamadoarevision").addClass("formulario"),$("#home").hide(),$("#formulario").show(),$("html, body").animate({scrollTop:0},500)),$form[0].reset(),$form.parsley().reset()),$("body").removeClass("loading")})))})},formulario:function(){$("form#formulario").on("submit",function(e){e.preventDefault(),$form=$(this),$form.parsley().validate(),$form.parsley().isValid()&&($("body").hasClass("loading")||($("body").addClass("loading"),$.post($form.attr("action"),$form.serializeArray(),function(e){e.success&&(window.location.href=base_url+"gracias",z),$("body").removeClass("loading")})))}),$('#formulario button[type="button"]').on("click",function(){$form=$("#formulario"),$form[0].reset(),$form.parsley().reset()})},map:function(){$.getJSON("https://www.toyotaperu.com.pe/traer/puntos/general",function(e){items=[],$.each(e,function(e,o){items.push(o)}),i.initMap(items)})},initMap:function(e){map=new google.maps.Map(document.getElementById("mapa"),{mapTypeId:google.maps.MapTypeId.ROADMAP,styles:[{featureType:"landscape",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{stylers:[{hue:"#00aaff"},{saturation:-100},{gamma:2.15},{lightness:12}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{visibility:"on"},{lightness:24}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:57}]}]}),i.setMarkers(map,e[0])},setMarkers:function(e,o){markers=[],infowindow=new google.maps.InfoWindow;var n,s,t=new google.maps.LatLngBounds;for(s=0;s<o.length;s++)n=new google.maps.Marker({position:new google.maps.LatLng(o[s].lat,o[s].long),icon:"https://toyotaperu.com.pe/sites/all/themes/toyota/img/pin.png",map:e}),markers.push(n),t.extend(n.position),e.fitBounds(t),google.maps.event.addListener(n,"click",function(n,s){return function(){var t="https://www.google.com/maps/dir/?api=1&destination="+o[s].lat+","+o[s].long,i="<div class='info-map'><img src='"+o[s].logo+"'class='img-responsive'><h3>"+o[s].nombre+"</h3><p>"+o[s].direccion+"</p><p class='tel_marker'>TEL: <span class='txt'>"+o[s].telefono+"</span></p><p class='fax_marker'>FAX: <span class='txt'>"+o[s].fax+"</span></p><a class='link_marker' target='_blank' href='"+o[s].web+"'>"+o[s].web+"</a><a class='link-map' target='_blank' href='"+t+"'>¿Cómo llegar?</a><ul class='lista-map'></ul></div>";infowindow.setContent(i),infowindow.open(e,n)}}(n,s))}};function a(){t=$(window).width(),console.log("ancho "+t),t>=992?(console.log("desktop"),$("#slide-mob.slick-slider").slick("unslick"),$("#slide-desk").slick({slidesToShow:1,slidesToScroll:1,dots:!1,arrows:!0,fade:!0,cssEase:"linear",autoplay:!0,autoplaySpeed:5e3})):(console.log("mobile"),$("#slide-desk.slick-slider").slick("unslick"),$("#slide-mob").slick({slidesToShow:1,slidesToScroll:1,dots:!1,arrows:!0,fade:!0,cssEase:"linear",initialSlide:2,autoplay:!0,autoplaySpeed:3e3}),$("#slide-mob").on("afterChange",function(e,o,n){console.log(" - "+n),n>=5?$(".nombre-slidemob").addClass("slide2"):$(".nombre-slidemob").removeClass("slide2")}))}$(function(){$(".alpha").validCampo(" abcdefghijklmnñopqrstuvwxyzáéíóú"),$(".vin").validCampo("abcdefghijklmnopqrstuvwxyz0123456789"),$(".license").validCampo("abcdefghijklmnopqrstuvwxyz0123456789"),$(".numeric").validCampo("0123456789- "),$(".only_numbers").validCampo("0123456789"),window.ParsleyConfig.excluded="input[type=button], input[type=submit], input[type=reset], input[type=hidden], [disabled], :hidden",i.init(),a(),window.innerWidth<992&&($(".down-arrow").on("click",function(){switch($(this).attr("href")){case"#informate":sectionTo="#sectionInformate";break;case"#preguntas_frecuentes":sectionTo="#sectionPreguntas";break;case"#concesionario":sectionTo="#sectionConcesionario";break;default:sectionTo="#sectionLlamadoarevision"}$("html, body").animate({scrollTop:$(sectionTo).offset().top},500)}),$("#mobileMenu ul.navigation li a").on("click",function(){var e=$(this).attr("href");switch(e=e.replace(base_url,"")){case"#informate":sectionTo="#sectionInformate";break;case"#preguntas_frecuentes":sectionTo="#sectionPreguntas";break;case"#concesionario":sectionTo="#sectionConcesionario";break;default:sectionTo="#sectionLlamadoarevision"}$("html, body").animate({scrollTop:$(sectionTo).offset().top},500),$(this).addClass("active").parent().siblings().find("a").removeClass("active"),$("header .toggle-nav").trigger("click")}))}),$(window).resize(function(){window.bootstrap.resize(),a()}).trigger("resize")},pSzl:function(e,o){}});
